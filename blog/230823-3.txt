3:I[5505,[],""]
5:I[8694,[],""]
6:I[7951,["951","static/chunks/951-68001eacaacb5ddd.js","308","static/chunks/app/blog/%5Bslug%5D/page-ed12fe06ba2a1fcb.js"],""]
4:["slug","230823-3","d"]
0:["ao_HRFyg_pJlh4h48KRqT",[[["",{"children":["blog",{"children":[["slug","230823-3","d"],{"children":["__PAGE__?{\"slug\":\"230823-3\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","230823-3","d"],{"children":["__PAGE__",{},[["$L1",["$","section",null,{"children":[["$","h1",null,{"className":"title font-semibold text-2xl tracking-tighter","children":"Convert BIOS to UEFI for Linux (or how to recover GRUB)"}],["$","div",null,{"className":"flex justify-between items-center mt-2 mb-8 text-sm","children":["$","p",null,{"className":"text-sm text-neutral-600 dark:text-neutral-400","children":"Aug 22, 2023"}]}],["$","article",null,{"className":"prose","children":"$L2"}]]}],[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/f748654d5fd56294.css","precedence":"next","crossOrigin":"$undefined"}]]],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/05cf33d66fb96bc6.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"en","className":"text-black bg-white dark:text-white dark:bg-black __variable_ac79ff __variable_8a4d12","children":["$","body",null,{"className":"antialiased max-w-4xl mx-4 mt-8 lg:mx-auto","children":["$","main",null,{"className":"flex-auto min-w-0 mt-6 flex flex-col px-2 md:px-0","children":[["$","aside",null,{"className":"-ml-[8px] mb-16 tracking-tight","children":["$","div",null,{"className":"lg:sticky lg:top-20","children":["$","nav",null,{"className":"flex flex-row items-start relative px-0 pb-0 fade md:overflow-auto scroll-pr-6 md:relative","id":"nav","children":["$","div",null,{"className":"flex flex-row space-x-0 pr-10","children":[["$","$L6","/",{"href":"/","className":"transition-all hover:text-neutral-800 dark:hover:text-neutral-200 flex align-middle relative py-1 px-2 m-1","children":"home"}],["$","$L6","/about",{"href":"/about","className":"transition-all hover:text-neutral-800 dark:hover:text-neutral-200 flex align-middle relative py-1 px-2 m-1","children":"about"}],["$","$L6","/blog",{"href":"/blog","className":"transition-all hover:text-neutral-800 dark:hover:text-neutral-200 flex align-middle relative py-1 px-2 m-1","children":"blog"}]]}]}]}]}],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","section",null,{"children":[["$","h1",null,{"className":"mb-8 text-2xl font-semibold tracking-tighter","children":"404 - Page Not Found"}],["$","p",null,{"className":"mb-4","children":"The page you are looking for does not exist."}]]}],"notFoundStyles":[]}],["$","footer",null,{"className":"mb-16","children":[["$","ul",null,{"className":"font-sm mt-8 flex flex-col space-x-0 space-y-2 text-neutral-600 md:flex-row md:space-x-4 md:space-y-0 dark:text-neutral-300","children":[["$","li",null,{"children":["$undefined",["$","p",null,{"className":" h-7 flex items-center transition-all hover:text-neutral-800 dark:hover:text-neutral-100","children":"Corvallis, Oregon, USA"}]]}],["$","li",null,{"children":["$undefined",["$","p",null,{"className":" h-7 flex items-center transition-all hover:text-neutral-800 dark:hover:text-neutral-100","children":"Phone: 541-360-9231"}]]}]]}],["$","ul",null,{"className":"font-sm flex flex-col space-x-0 space-y-2 text-neutral-600 md:flex-row md:space-x-4 md:space-y-0 dark:text-neutral-300","children":[["$","li",null,{"children":["$","a",null,{"className":"flex items-center transition-all hover:text-neutral-800 dark:hover:text-neutral-100","rel":"noopener noreferrer","target":"_blank","href":"https://github.com/bachsofttrick","children":[["$","svg",null,{"width":"12","height":"12","viewBox":"0 0 12 12","fill":"none","xmlns":"http://www.w3.org/2000/svg","children":["$","path",null,{"d":"M2.07102 11.3494L0.963068 10.2415L9.2017 1.98864H2.83807L2.85227 0.454545H11.8438V9.46023H10.2955L10.3097 3.09659L2.07102 11.3494Z","fill":"currentColor"}]}],["$","p",null,{"className":"ml-2 h-7","children":"github"}]]}]}],["$","li",null,{"children":["$","a",null,{"className":"flex items-center transition-all hover:text-neutral-800 dark:hover:text-neutral-100","rel":"noopener noreferrer","target":"_blank","href":"https://github.com/bachsofttrick/bachsofttrick.github.io","children":[["$","svg",null,{"width":"12","height":"12","viewBox":"0 0 12 12","fill":"none","xmlns":"http://www.w3.org/2000/svg","children":["$","path",null,{"d":"M2.07102 11.3494L0.963068 10.2415L9.2017 1.98864H2.83807L2.85227 0.454545H11.8438V9.46023H10.2955L10.3097 3.09659L2.07102 11.3494Z","fill":"currentColor"}]}],["$","p",null,{"className":"ml-2 h-7","children":"view source"}]]}]}],["$","li",null,{"children":["$","a",null,{"className":"flex items-center transition-all hover:text-neutral-800 dark:hover:text-neutral-100","rel":"noopener noreferrer","target":"_blank","href":"https://linkedin.com/in/brian-phan-58530b1b0/","children":[["$","svg",null,{"width":"12","height":"12","viewBox":"0 0 12 12","fill":"none","xmlns":"http://www.w3.org/2000/svg","children":["$","path",null,{"d":"M2.07102 11.3494L0.963068 10.2415L9.2017 1.98864H2.83807L2.85227 0.454545H11.8438V9.46023H10.2955L10.3097 3.09659L2.07102 11.3494Z","fill":"currentColor"}]}],["$","p",null,{"className":"ml-2 h-7","children":"linkedin"}]]}]}],["$","li",null,{"children":["$","a",null,{"className":"flex items-center transition-all hover:text-neutral-800 dark:hover:text-neutral-100","rel":"noopener noreferrer","target":"_blank","href":"mailto:xuanbach1307@gmail.com","children":[["$","svg",null,{"width":"12","height":"12","viewBox":"0 0 12 12","fill":"none","xmlns":"http://www.w3.org/2000/svg","children":["$","path",null,{"d":"M2.07102 11.3494L0.963068 10.2415L9.2017 1.98864H2.83807L2.85227 0.454545H11.8438V9.46023H10.2955L10.3097 3.09659L2.07102 11.3494Z","fill":"currentColor"}]}],["$","p",null,{"className":"ml-2 h-7","children":"email"}]]}]}]]}],["$","p",null,{"className":"mt-8 text-neutral-600 dark:text-neutral-300","children":2025}]]}]]}]}]}]],null],null],[null,"$L7"]]]]
2:[["$","p",null,{"children":"For the longest time, I was scared of using UEFI on my PC. With the\nexception of my laptops, which force me to use UEFI though I disabled\nSecure Boot because it's a pain to deal with, I have been using CSM mode\n(compatibility mode) that simulates BIOS. Lately with a new hard drive\nto test various Linux OSes on, I've decided to reinstall Windows 10\ninside the PC on UEFI mode, so on the new Linux hard drive I can install\nmultiple OSes without having their bootloaders stepping on each other\nlike in the BIOS age."}],"\n",["$","h4",null,{"id":"howto","className":"$undefined","children":[[["$","a","link-howto",{"href":"#howto","className":"anchor"}]],"Howto"]}],"\n",["$","p",null,{"children":["I learned this from ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://askubuntu.com/questions/509423/which-commands-to-convert-a-ubuntu-bios-install-to-efi-uefi-without-boot-repair","children":"this\narticle"}],"\nin StackExchange. These steps apply too, I guess, Ubuntu, Fedora, Arch,\nor anything using GRUB as bootloader. Tldr, we ",["$","em",null,{"children":"chroot"}]," into the root\ndirectory ",["$","em",null,{"children":"of the OS you want to convert"}],", run some commands and GRUB is\nrestored."]}],"\n",["$","p",null,{"children":"First, I checked to see whether the machine is on UEFI mode using this\ncommand:"}],"\n",["$","p",null,{"children":["$","em",null,{"children":"[ -d /sys/firmware/efi ] && echo UEFI || echo BIOS"}]}],"\n",["$","p",null,{"children":"Proceed if it says UEFI, otherwise go into the BIOS menu and change it."}],"\n",["$","p",null,{"children":["Afterward, I mapped some partitions into the root directory of the OS\nthat is on the way to be converted (supposed that ",["$","em",null,{"children":"sda1"}]," is the OS\npartition, ",["$","em",null,{"children":"sda2"}]," is the EFI system partition, ",["$","em",null,{"children":"/mnt"}]," is where you want\nto chroot to, could be anywhere else):"]}],"\n",["$","p",null,{"children":["$","em",null,{"children":"sudo mount /dev/sda1 /mnt"}]}],"\n",["$","p",null,{"children":["$","em",null,{"children":"sudo mount /dev/sda2 /mnt/boot/efi"}]}],"\n",["$","p",null,{"children":["$","em",null,{"children":"sudo mount --bind /dev /mnt/dev"}]}],"\n",["$","p",null,{"children":["$","em",null,{"children":"sudo mount --bind /proc /mnt/proc"}]}],"\n",["$","p",null,{"children":["$","em",null,{"children":"sudo mount --bind /sys /mnt/sys"}]}],"\n",["$","p",null,{"children":[["$","em",null,{"children":"sudo"}]," mount ",["$","em",null,{"children":"--bind /run /mnt/run"}]]}],"\n",["$","p",null,{"children":["Later on, I loaded a module called ",["$","em",null,{"children":"efivarfs"}]," (UEFI Runtime Variables\nSupport) using ",["$","em",null,{"children":"sudo modprobe efivarfs"}],". Then I went in using ",["$","em",null,{"children":"sudo\nchroot /mnt"}],"."]}],"\n",["$","p",null,{"children":"Now, depend on the OS, say Ubuntu or Fedora, you use their respective\npackage manager. For my case, that was apt. So:"}],"\n",["$","p",null,{"children":["$","em",null,{"children":"apt update && apt list grub*"}]}],"\n",["$","p",null,{"children":["Check for package ",["$","em",null,{"children":"grub-efi"}]," and ",["$","em",null,{"children":"grub-efi-amd64"}],"\n(",["$","em",null,{"children":"grub-efi-amd64-signed"}]," if Secure Boot was enabled, I didn't try it).\nAnd then I went:"]}],"\n",["$","p",null,{"children":["$","em",null,{"children":"grub-install --target=x86_64-efi --efi-directory=/boot/efi\n--bootloader-id=ubuntu --recheck --no-floppy --debug"}]}],"\n",["$","p",null,{"children":["Alternatively, ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://superuser.com/questions/376470/how-to-reinstall-grub2-efi","children":"this\narticle"}],"\nsuggests reinstalling ",["$","em",null,{"children":"grub-efi"}],". This is how I recover GRUB on Fedora,\nsince ",["$","em",null,{"children":"grub-install"}]," didn't work."]}],"\n",["$","p",null,{"children":"References:"}],"\n",["$","p",null,{"children":["- ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://www.reddit.com/r/linuxquestions/comments/63azo4/eli5_what_exactly_is_the_problem_with_uefi_and/","children":"What exactly is the problem with\nUEFI"}]]}]]
7:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Convert BIOS to UEFI for Linux (or how to recover GRUB) | Brian Phan"}],["$","meta","3",{"name":"description","content":"This is my portfolio."}],["$","meta","4",{"name":"robots","content":"index, follow"}],["$","meta","5",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","meta","6",{"property":"og:title","content":"My Portfolio"}],["$","meta","7",{"property":"og:description","content":"This is my portfolio."}],["$","meta","8",{"property":"og:url","content":"https://bachsofttrick.github.io"}],["$","meta","9",{"property":"og:site_name","content":"My Portfolio"}],["$","meta","10",{"property":"og:locale","content":"en_US"}],["$","meta","11",{"property":"og:type","content":"website"}],["$","meta","12",{"name":"twitter:card","content":"summary"}],["$","meta","13",{"name":"twitter:title","content":"My Portfolio"}],["$","meta","14",{"name":"twitter:description","content":"This is my portfolio."}],["$","meta","15",{"name":"next-size-adjust"}]]
1:null
